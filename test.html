<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="Testing" content="">
    <meta name="Author" content="">

    <title>Canvas Test</title>
  </head>

  <body>
    <div style="padding-top: 30px; padding-bottom: 30px; padding-left: 30px;">
          <div id="container">
            <div id="canvasElement" style="width:800px; height:400px;"></div>
          </div>
    </div>

    <!-- JavaScript  ================================================== -->
    <script src="./lib/mathbox-bundle.js"></script>  

    <script type="text/javascript">
      var startRangeX = [-10,10];
      var startRangeY = [-30,70];
      var startScale = [2,1];
      var width  = 800; 
      var height = width/2; 
      var colors = {        
        cnvs: 0xFFFFFF, // Clear/white
        }

      var element = document.querySelector('#canvasElement');

      var mathbox = mathBox({
            plugins: ['core', 'controls', 'mathbox'], 
            controls: {
              klass: THREE.OrbitControls,
            },
            element: element,
          });

      if (mathbox.fallback) throw "WebGL not supported"

      var three = mathbox.three;
      three.renderer.setClearColor(new THREE.Color(colors.cnvs), 1.0);

      // Place camera
      var camera =
            mathbox
            .camera({
              proxy: true,
              position: [0, 0, 2],
            });

      // 2D cartesian
      var view =
            mathbox
            .cartesian({
              range: [startRangeX, startRangeY],
              scale: startScale,
            });

      // Axes + grid
      view
            .axis({
              axis: 1,
              width: 3,
            })
            .axis({
              axis: 2,
              width: 3,
            })
            .grid({
              width: 2,
              niceX: true,
              niceY: true,
            });

      // Make axes black
      mathbox.select('axis').set('color', 'black');

      // Calibrate focus distance for units
      mathbox.set('focus', 3);
    </script>
</body>
</html>
